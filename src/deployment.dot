digraph DeploymentLifecycle {
  subgraph cluster_deployment {
    label = "Deployment";
    style = filled
    color = lightblue
    node [style=filled,color=white];

    DeploymentAvailable [label=Available, href="https://godoc.org/k8s.io/api/apps/v1#DeploymentAvailable"]
    DeploymentProgressing [label=Progressing, href="https://godoc.org/k8s.io/api/apps/v1#DeploymentProgressing"]
    DeploymentReplicaFailure [label=ReplicaFailure, href="https://godoc.org/k8s.io/api/apps/v1#DeploymentReplicaFailure"]

    DeploymentReplicas [label=Replicas, href="https://godoc.org/k8s.io/kubernetes/pkg/apis/apps#DeploymentStatus"]
    DeploymentReadyReplicas [label=ReadyReplicas, href="https://godoc.org/k8s.io/kubernetes/pkg/apis/apps#DeploymentStatus"]
    DeploymentAvailableReplicas [label=AvailableReplicas, href="https://godoc.org/k8s.io/kubernetes/pkg/apis/apps#DeploymentStatus"]
    DeploymentUnavailableReplicas [label=UnavailableReplicas, href="https://godoc.org/k8s.io/kubernetes/pkg/apis/apps#DeploymentStatus"]

    DeploymentMinReadySeconds [label=MinReadySeconds, href="https://godoc.org/k8s.io/api/apps/v1#DeploymentSpec"]

    DeploymentProgressing -> DeploymentReplicas
    DeploymentProgressing -> DeploymentReadyReplicas
    DeploymentProgressing -> DeploymentAvailableReplicas

    DeploymentAvailable -> DeploymentAvailableReplicas
    DeploymentAvailable -> DeploymentReplicas

    DeploymentUnavailableReplicas -> DeploymentReplicas
    DeploymentUnavailableReplicas -> DeploymentAvailableReplicas
  }

  subgraph cluster_rs {
    label = "ReplicaSet";
    style = filled
    color = lightblue
    node [style=filled,color=white];

    ReplicaSetReplicaFailure [label=ReplicaFailure, href="https://godoc.org/k8s.io/api/apps/v1#ReplicaSetReplicaFailure"]

    ReplicaSetReplicas [label=Replicas, href="https://godoc.org/k8s.io/kubernetes/pkg/apis/apps#ReplicaSetStatus"]
    ReplicaSetReadyReplicas [label=ReadyReplicas, href="https://godoc.org/k8s.io/kubernetes/pkg/apis/apps#ReplicaSetStatus"]
    ReplicaSetAvailableReplicas [label=AvailableReplicas, href="https://godoc.org/k8s.io/kubernetes/pkg/apis/apps#ReplicaSetStatus"]

    ReplicaSetMinReadySeconds [label=MinReadySeconds, href="https://godoc.org/k8s.io/api/apps/v1#ReplicaSetSpec"]

    ReplicaSetAvailableReplicas -> ReplicaSetMinReadySeconds
    ReplicaSetAvailableReplicas -> ReplicaSetReadyReplicas
  }

  subgraph cluster_pods {
    label = "Pod";
    style = filled
    color = lightblue
    node [style=filled,color=white];

    PodReady [label=Ready, href="https://godoc.org/k8s.io/api/core/v1#PodReady"]
    PodScheduled [label=Scheduled, href="https://godoc.org/k8s.io/api/core/v1#PodScheduled"]
    PodInitialized [label=Initialized, href="https://godoc.org/k8s.io/api/core/v1#PodInitialized"]
    ContainersReady [label=ContainersReady, href="https://godoc.org/k8s.io/api/core/v1#ContainersReady"]
    ContainerStatus [label=ContainerStatus, href="https://godoc.org/k8s.io/api/core/v1#ContainerStatus"]

    PodReady -> ContainersReady
    PodReady -> PodInitialized
    PodInitialized -> PodScheduled

    ContainersReady -> ContainerStatus
  }

  ReplicaSetReplicas -> ClaimPods
  ReplicaSetReadyReplicas -> ClaimPods

  ReplicaSetReadyReplicas -> PodReady

  DeploymentReplicas -> ReplicaSetReplicas
  DeploymentReadyReplicas -> ReplicaSetReadyReplicas
  DeploymentAvailableReplicas -> ReplicaSetAvailableReplicas

  DeploymentReplicaFailure -> ReplicaSetReplicaFailure

  ReplicaSetReplicaFailure -> CreatePod
  ReplicaSetReplicaFailure -> DeletePod

  ReplicaSetMinReadySeconds -> DeploymentMinReadySeconds [style=dashed]

  CreatePod [label="CreatePod()", href="https://github.com/kubernetes/kubernetes/blob/de8fb1c9f81b1bd48a0d25f866492acca2c199f0/pkg/controller/replicaset/replica_set.go#L466-L511"]
  DeletePod [label="DeletePod()", href="https://github.com/kubernetes/kubernetes/blob/de8fb1c9f81b1bd48a0d25f866492acca2c199f0/pkg/controller/replicaset/replica_set.go#L512-L554"]
  ClaimPods [label="ClaimPods()", href="https://github.com/kubernetes/kubernetes/blob/de8fb1c9f81b1bd48a0d25f866492acca2c199f0/pkg/controller/replicaset/replica_set.go#L590-L612"]
}
